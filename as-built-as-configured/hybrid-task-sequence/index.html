
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://oobecomau.github.io/theblueprint/as-built-as-configured/hybrid-task-sequence/">
      
      
        <link rel="prev" href="../hybrid-network-configuration/">
      
      
        <link rel="next" href="../intune-applications/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.0.12">
    
    
      
        <title>Hybrid task sequence - The blueprint</title>
      
    
    
      <link rel="stylesheet" href="../../css/main.min.css">
      
      


    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-LWY9H8XN56"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-LWY9H8XN56",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-LWY9H8XN56",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  <body dir="ltr">
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hybrid-task-sequence-deploy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
        
  
    
  
  <header class="md-header md-header--lifted" data-md-component="header">
    <nav class="md-header__inner md-grid" aria-label="Header">
      <a href="../.." title="The blueprint" class="md-header__button md-logo" aria-label="The blueprint" data-md-component="logo">
        <img src="../../img/The-blueprint-site-title-White.svg" alt="blueprint">  
      </a>
    </nav>
    <div class="mobile-tabs"> 
       
    <button type="button" onclick="mobileToggle()" id="menuToggle" class="mobile-navbar-toggler">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>


<div id="mobile-navbar-collapse" class="mobile-navbar-collapse-custom collapse">
    <nav class="md-tabs-mobile" aria-label="Tabs" data-md-component="tabs">
      <div class="md-grid">
        <ul class="md-tabs__list">
           
              
  
    <li class="md-tabs__item">
      <a href="../.." class="md-header md-header--lifted">
        Home
      </a>
    </li>
   
           
              
  
    
    
    
   
           
              
  
    
    
    
      <li class="md-tabs__item">
        <a href="../../blueprint/" class="md-header md-header--lifted">
          Blueprint
        </a>
      </li>
    
   
           
              
  
    
    
    
      <li class="md-tabs__item">
        <a href="../../news/" class="md-header md-header--lifted">
          News
        </a>
      </li>
    
   
           
              
  
    
    
    
      <li class="md-tabs__item">
        <a href="../../patterns/" class="md-header md-header--lifted">
          Patterns
        </a>
      </li>
    
   
           
              
  
    
    
    
   
          
        </ul>
      </div>
    </nav>
</div>

   
    </div>
    
      
        
<div class="flex-container">
  <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
    <div class="md-grid">
      <ul class="md-tabs__list">
         
            
    
    
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    </li>
   
         
            
    
    
      
    
  
  
    
    
    
   
         
            
    
    
  
  
    
    
    
      <li class="md-tabs__item">
        <a href="../../blueprint/" class="md-tabs__link">
          Blueprint
        </a>
      </li>
    
   
         
            
    
    
  
  
    
    
    
      <li class="md-tabs__item">
        <a href="../../news/" class="md-tabs__link">
          News
        </a>
      </li>
    
   
         
            
    
    
  
  
    
    
    
      <li class="md-tabs__item">
        <a href="../../patterns/" class="md-tabs__link">
          Patterns
        </a>
      </li>
    
   
         
            
    
    
  
  
    
    
    
   
        
      </ul>
    </div>
  </nav>
   
  <div class="md-search-container">
        <div class="md-search" data-md-component="search" role="dialog">
    <label id="mobile-search" class="md-search__icon md-icon" for="__search">
      <img id="mag-mobile" src="../../img/The-blueprint-icon-Magnify-glass-White.svg" alt="Magnify"> 
    </label>
    <label class="md-search__overlay" for="__search"></label>
    <div class="md-search__inner" role="search">
      <form id="search-flex-container" class="md-search__form" name="search">
        <menu id="mobile-back-btn">
          <label id="mobile-btn" class="md-search__icon md-icon" for="__search">
            <div id="mobileBackSearch" class="mobile-search-toggler">
              <span class="bar"></span>
              <span class="bar"></span>
            </div>
          </label>
        </menu>
        <div class="form-outline">
          <input type="text" class="md-search__input" name="query" aria-label="Search the blueprint" placeholder="Search the blueprint" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
        </div>
        <div class="form-icon">
          <div class="form-icon-mobile"></div>
          <label class="md-search__icon md-icon" for="__search">
            <img id="mag-desktop" src="../../img/The-blueprint-icon-Magnify-glass-Blue.svg" alt="Magnify"> 
          </label>
        </div>
        <nav class="md-search__options" aria-label="Search">
          
          <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
          </button>
        </nav>
        
      </form>
      <div class="md-search__output">
        <div class="md-search__scrollwrap" data-md-scrollfix>
          <div class="md-search-result" data-md-component="search-result">
            <div class="md-search-result__meta">
              Initializing search
            </div>
            <ol class="md-search-result__list" role="presentation"></ol>
          </div>
        </div>
      </div>
    </div>
  </div> 
  </div>
  
  <div class="md-powered-logo">
    <a href="https://www.oobe.com.au" title="oobe a Fujitsu company" class="md-header__button md-logo" aria-label="oobe a Fujitsu company" data-md-component="logo">
      <img src="../../img/oobe-powered-by-White-RGB.svg" alt="powered by oobe">                       
    </a>
  </div>
</div>
      
    
  </header>
  <div id="mobile-container-collapse"></div>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
         
          
            
            <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
              <div class="md-sidebar__scrollwrap">
                <div class="md-sidebar__inner">
                    
  
    
  
  
    
  
  <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
    <label class="md-nav__title" for="__drawer">
      <a href="../.." title="The blueprint" class="md-nav__button md-logo" aria-label="The blueprint" data-md-component="logo">
        
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

      </a>
      The blueprint
    </label>
    
    <ul class="md-nav__list" data-md-scrollfix>
      
        
        
          
  
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../.." class="md-nav__link">
          Home
        </a>
      </li>
    
  
      
        
        
          
  
    
    
      
    
    
      
      <li class="md-nav__item md-nav__item--active md-nav__item--nested">
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            As built as configured
            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            As built as configured
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../admin-disable-inactive-users/" class="md-nav__link">
          Admin disable inactive users
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../conditional-access-policies/" class="md-nav__link">
          Conditional access policies
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../hybrid-network-configuration/" class="md-nav__link">
          Hybrid network configuration
        </a>
      </li>
    
  
              
            
              
                
    
    
      
    
    
      <li class="md-nav__item md-nav__item--active">
        
        <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
        
        
          
        
        
          <label class="md-nav__link md-nav__link--active" for="__toc">
            Hybrid task sequence
            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <a id="active-nav-link" href="./" class="md-nav__link md-nav__link--active">
          Hybrid task sequence
        </a>
        
            
  
  <nav class="md-nav md-nav--secondary" aria-label="Table of contents">
    
    
    
      
    
    
      <label class="md-nav__title" for="__toc">
        <span class="md-nav__icon md-icon"></span>
        Hybrid task sequence
      </label>
      <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
        
            <li class="md-nav__item">
    <a href="#base-configuration" class="md-nav__link">
      Base configuration
    </a>
    
  </li>
        
            <li class="md-nav__item">
    <a href="#task-sequence-prerequisites" class="md-nav__link">
      Task sequence prerequisites
    </a>
    
  </li>
        
            <li class="md-nav__item">
    <a href="#windows-10-task-sequence" class="md-nav__link">
      Windows 10 task sequence
    </a>
    
  </li>
        
            <li class="md-nav__item">
    <a href="#autopilot" class="md-nav__link">
      Autopilot
    </a>
    
      <nav class="md-nav" aria-label="Autopilot">
        <ul class="md-nav__list">
          
              <li class="md-nav__item">
    <a href="#annex-1-unattendxml" class="md-nav__link">
      Annex 1: Unattend.xml
    </a>
    
  </li>
          
              <li class="md-nav__item">
    <a href="#annex-2-autopilotconfigurationfilejson" class="md-nav__link">
      Annex 2: AutopilotConfigurationFile.json
    </a>
    
  </li>
          
        </ul>
      </nav>
    
  </li>
        
      </ul>
    
  </nav>
        
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../intune-applications/" class="md-nav__link">
          Intune applications
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../intune-compliance/" class="md-nav__link">
          Intune compliance
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../intune-configuration/" class="md-nav__link">
          Intune configuration
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../intune-enrolment/" class="md-nav__link">
          Intune enrolment
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../intune-software-updates/" class="md-nav__link">
          Intune software updates
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../office-365/" class="md-nav__link">
          Office 365
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../platform/" class="md-nav__link">
          Platform
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../wdac-policy-creation/" class="md-nav__link">
          Wdac policy creation
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../wfw-rules-import/" class="md-nav__link">
          Wfw rules import
        </a>
      </li>
    
  
              
            
          </ul>
        </nav>
      </li>
    
  
      
        
        
          
  
    
    
    
      
      <li class="md-nav__item md-nav__item--nested">
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
        
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
        
          
          
          <div class="md-nav__link md-nav__link--index ">
            <a href="../../blueprint/">Blueprint</a>
            
              <label for="__nav_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blueprint
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/abbreviations-and-acronyms/" class="md-nav__link">
          Abbreviations and acronyms
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/as-built-as-configured/" class="md-nav__link">
          As built as configured
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/automation/" class="md-nav__link">
          Automation
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/client-devices/" class="md-nav__link">
          Client devices
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/essential-eight-maturity/" class="md-nav__link">
          Essential eight maturity
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/office-365/" class="md-nav__link">
          Office 365
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/platform/" class="md-nav__link">
          Platform
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/security/" class="md-nav__link">
          Security
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../blueprint/solution-overview/" class="md-nav__link">
          Solution overview
        </a>
      </li>
    
  
              
            
          </ul>
        </nav>
      </li>
    
  
      
        
        
          
  
    
    
    
      
      <li class="md-nav__item md-nav__item--nested">
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
        
          
            
              
            
          
            
          
            
          
            
          
        
        
          
          
          <div class="md-nav__link md-nav__link--index ">
            <a href="../../news/">News</a>
            
              <label for="__nav_4">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            News
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../news/enhanced-mfa-2023-01-16/" class="md-nav__link">
          Enhanced MFA
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../news/intro-the-blueprint-2023-04-23/" class="md-nav__link">
          Introducing the blueprint
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../news/windows-11-2023-04-23/" class="md-nav__link">
          Windows 11
        </a>
      </li>
    
  
              
            
          </ul>
        </nav>
      </li>
    
  
      
        
        
          
  
    
    
    
      
      <li class="md-nav__item md-nav__item--nested">
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
        
          
            
              
            
          
            
          
            
          
        
        
          
          
          <div class="md-nav__link md-nav__link--index ">
            <a href="../../patterns/">Patterns</a>
            
              <label for="__nav_5">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Patterns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../patterns/azure-virtual-desktop/" class="md-nav__link">
          Azure virtual desktop
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../patterns/bring-your-own-device/" class="md-nav__link">
          Bring your own device
        </a>
      </li>
    
  
              
            
          </ul>
        </nav>
      </li>
    
  
      
        
        
          
  
    
    
    
      
      <li class="md-nav__item md-nav__item--nested">
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            Security
            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/cloud-assessment-and-authorisation-alignment/" class="md-nav__link">
          Cloud assessment and authorisation alignment
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/continuous-monitoring-plan/" class="md-nav__link">
          Continuous monitoring plan
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/hybrid-incident-response-plan/" class="md-nav__link">
          Hybrid incident response plan
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/hybrid-security-risk-management-plan/" class="md-nav__link">
          Hybrid security risk management plan
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/hybrid-standard-operating-procedures/" class="md-nav__link">
          Hybrid standard operating procedures
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/hybrid-system-security-plan/" class="md-nav__link">
          Hybrid system security plan
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/incident-response-plan/" class="md-nav__link">
          Incident response plan
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/security-risk-management-plan/" class="md-nav__link">
          Security risk management plan
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/standard-operating-procedures/" class="md-nav__link">
          Standard operating procedures
        </a>
      </li>
    
  
              
            
              
                
    
    
    
      <li class="md-nav__item">
        <a id="nav-link" href="../../security/system-security-plan/" class="md-nav__link">
          System security plan
        </a>
      </li>
    
  
              
            
          </ul>
        </nav>
      </li>
    
  
      
    </ul>
  </nav>
                </div>
              </div>
            </div>
          
          
         
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                    
  
  
  
    <hr />
<h1 id="hybrid-task-sequence-deploy">Hybrid - task sequence deploy</h1>
<p id="date-and-time">5 minutes to read - 30 March 2023</p>

<p>The following provides guidance on settings required to develop a Windows 10 task sequence that can be used as the basis for the Agency specific Operating System image used prior to Autopilot taking over the image in Hybrid deployments.</p>
<h2 id="base-configuration">Base configuration</h2>
<p>The following table describes the base configuration for the Operating System.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Windows Edition</td>
<td>Windows 10 Enterprise</td>
</tr>
<tr>
<td>System Type</td>
<td>64-bit Operating System</td>
</tr>
<tr>
<td>Windows Servicing Channel</td>
<td>Semi-Annual</td>
</tr>
<tr>
<td>Windows Version</td>
<td>21H1</td>
</tr>
</tbody>
</table>
<h2 id="task-sequence-prerequisites">Task sequence prerequisites</h2>
<p>The following table describes the prerequisites in use in the task sequence.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AutopilotConfigurationFile.json</td>
<td>The AutopilotConfigurationFile.json is required to be available within an Microsoft Endpoint Configuration Manager (MECM) package. As a requirement the <a href="../../as-built-as-configured/intune-enrolment">Intune enrolment ABAC</a> would need to be implemented before this ABAC.</td>
</tr>
<tr>
<td>MECM Package</td>
<td><strong>Windows 10 Customisations</strong> package to be created within MECM and contain the <a href="#annex-2-autopilotconfigurationfilejson">AutopilotConfigurationFile.json</a> and the <a href="#annex-1-unattendxml">Unattend.xml</a> files.</td>
</tr>
<tr>
<td>MECM Package</td>
<td><strong>Configuration Manager Client</strong> packaged needs to exist, this typically exists by default with the MECM installation.</td>
</tr>
<tr>
<td>MECM Boot Image</td>
<td>A WinPE boot image is required to boot to Windows PE, this typically exists by default with the MECM installation.</td>
</tr>
<tr>
<td>MECM Operating System Image</td>
<td>An Operating System image is required within MECM. This should consist of the Windows 10 WIM file as per the <strong>Base Configuration</strong>. Additional Agency specific customisations can be injected into the WIM as required, however this is out of scope of this ABAC.</td>
</tr>
</tbody>
</table>
<h2 id="windows-10-task-sequence">Windows 10 task sequence</h2>
<ul>
<li>Install operating system</li>
<li>Item: Restart in Windows PE<ul>
<li>Type: Restart Computer</li>
<li>Configuration: The boot image assigned to this task sequence</li>
<li>Options/Scripts: Task Sequence Variable <code>_SMSTSInWinPE equals “false”</code></li>
</ul>
</li>
<li>Item: Partition Disk 0 - BIOS<ul>
<li>Type: Format and Partition Disk</li>
<li>Configuration</li>
<li>System Reserved (Primary) 350 MB fixed size. NTFS file system</li>
<li>Windows (Primary) 99% of remaining space on disk. NTFS file system</li>
<li>Recovery (Recovery) 100% of remaining space on disk. NTFS file system.</li>
<li>Options/Scripts: Task Sequence Variable</li>
</ul>
</li>
</ul>
<pre><code>_SMSTSClientCache not exists
_SMSTSMediaType not equals “OEMMedia”
_OSDMigrateUseHardlinks not equals “true”
_SMSTSBootUEFI not equals “true”
</code></pre>
<ul>
<li>Item: Partition Disk 0 – UEFI<ul>
<li>Type: Format and Partition Disk</li>
<li>Configuration</li>
<li>(EFI) 500 MB fixed size. FAT32 file system.</li>
<li>(MBR) 128 MB fixed size.</li>
<li>Windows (Primary) 99% of remaining space on disk. NTFS file system.</li>
<li>Recovery (Recovery) 100% of remaining space on disk. NTFS file system.</li>
</ul>
</li>
<li>Item: Pre-provision BitLocker<ul>
<li>Type: Pre-provision BitLocker</li>
<li>Configuration</li>
<li>Apply BitLocker to the specified drive: Next available formatted partition</li>
<li>Skip this step for computers that do not have a TPM or when TPM is not enabled</li>
</ul>
</li>
<li>Item: Apply Operating System<ul>
<li>Type: Apply Operating System Image</li>
<li>Configuration</li>
<li>Apply operating system from a captured image<ul>
<li>Install package: Windows 10 x64 1909</li>
<li>Image index: Windows 10 Enterprise</li>
</ul>
</li>
<li>Use an unattended or sysprep answer file for a custom installation<ul>
<li>Packaged: Windows 10 Customisations</li>
<li>File name: <a href="#annex-1-unattendxml">Unattend.xml</a></li>
</ul>
</li>
</ul>
</li>
<li>Item: Apply Windows Settings<ul>
<li>Type: Apply Windows Settings</li>
<li>Configuration</li>
<li>Organization name: Agency Name</li>
<li>Product key: KMS or leave blank</li>
<li>Randomly generate the local administrator password and disable the account on all supported platforms (recommended)</li>
<li>Time zone: (UTC +10:00) Canberra, Melbourne, Sydney</li>
</ul>
</li>
<li>Item: Apply Windows Autopilot configuration<ul>
<li>Type: Run Command Line</li>
<li>Configuration</li>
<li>Command line: <code>Cmd.exe /c xcopy AutopilotConfigurationFile.json %OSDTargetSystemDrive%\Windows\ Provisioning\Autopilot\ /c</code> <br>Note: for Autopilot Configuration File refer to <a href="#annex-2-autopilotconfigurationfilejson">Annex 2</a>.</li>
<li>Package: Windows 10 Customisations</li>
</ul>
</li>
<li>Item: Apply Device Drivers<ul>
<li>Type: Auto Apply Drivers</li>
<li>Configuration</li>
<li>Install only the best matched compatible drivers</li>
<li>Consider drivers from all categories. Note: Agency specific Device Drivers will need to be added to MECM.</li>
</ul>
</li>
<li>Setup Operating System</li>
<li>Item: Setup Windows and Configuration Manager<ul>
<li>Type: Setup Windows and ConfigMgr</li>
<li>Configuration</li>
<li>Client Package: Configuration Manager Client Package</li>
</ul>
</li>
<li>Item: Enable BitLocker<ul>
<li>Type: Enable BitLocker</li>
<li>Configuration</li>
<li>Current operating system drive</li>
<li>TPM only</li>
<li>Choose where to create the recovery key: In Active Directory Domain Services</li>
<li>Note: This task may cause issues if there is no supported TPM module located.</li>
</ul>
</li>
<li>Item: Install Updates<ul>
<li>Type: Install Software Updates</li>
<li>Configuration</li>
<li>Available for installation – All software updates</li>
<li>Evaluate software updates form cached scan results: Enabled</li>
<li>Options/Scripts</li>
<li>Continue on error</li>
<li>Task Sequence Variable: <code>_SMSTSMediaType not equals "FullMedia"</code></li>
</ul>
</li>
<li>Item: Install Applications<ul>
<li>Type: Install Applications</li>
<li>Configuration</li>
<li>Install the following applications: Agency specific applications</li>
<li>Note: This step should be considered optional and only used if the applications are unable to be migrated to Microsoft Endpoint Manager - Intune (Intune)</li>
</ul>
</li>
<li>Prepare device for Windows Autopilot</li>
<li>Item: Prepare Configuration Manager Client<ul>
<li>Type: Prepare ConfigMgr Client for Capture</li>
</ul>
</li>
<li>Item: Prepare Windows for Capture<ul>
<li>Type: Run Command Line</li>
<li>Configuration</li>
<li>Command Line: <code>c:\windows\system32\sysprep\sysprep.exe /oobe /reboot</code></li>
</ul>
</li>
</ul>
<p>Figure 1 has been included to show order of the task sequence.</p>
<p><img alt="Figure 1 Windows 10 Task Sequence" src="../../img/abac/windows-10-task-sequence.png#center" /></p>
<h2 id="autopilot">Autopilot</h2>
<p>Once the Task Sequence has been completed the Windows OOBE (Out Of the Box Experience) will start at next power cycle of the workstation. Autopilot will start its process to apply the additional Agency customisations.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td>Region</td>
<td>Australia</td>
</tr>
<tr>
<td>Keyboard Layout</td>
<td>US</td>
</tr>
<tr>
<td>Email Address</td>
<td>Agency specific user</td>
</tr>
</tbody>
</table>
<p>The following figure shows the OOBE Agency specific welcome page.</p>
<p><img alt="Figure 2 Windows 10 OOBE Welcome Screen" src="../../img/abac/windows-10-welcome.png#center" /></p>
<h3 id="annex-1-unattendxml">Annex 1: Unattend.xml</h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;unattend xmlns=&quot;urn:schemas-microsoft-com:unattend&quot;&gt;
     &lt;settings pass=&quot;oobeSystem&quot;&gt;
          &lt;component name=&quot;Microsoft-Windows-International-Core&quot; processorArchitecture=&quot;amd64&quot; publicKeyToken=&quot;31bf3856ad364e35&quot; language=&quot;neutral&quot; versionScope=&quot;nonSxS&quot; xmlns:wcm=&quot;http://schemas.microsoft.com/WMIConfig/2002/State&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
               &lt;InputLocale&gt;0c09:00000409&lt;/InputLocale&gt;
               &lt;SystemLocale&gt;en-AU&lt;/SystemLocale&gt;
               &lt;UILanguage&gt;en-AU&lt;/UILanguage&gt;
               &lt;UserLocale&gt;en-AU&lt;/UserLocale&gt;
               &lt;UILanguageFallback&gt;en-US&lt;/UILanguageFallback&gt;
          &lt;/component&gt;
          &lt;component name=&quot;Microsoft-Windows-Shell-Setup&quot; processorArchitecture=&quot;amd64&quot; publicKeyToken=&quot;31bf3856ad364e35&quot; language=&quot;neutral&quot; versionScope=&quot;nonSxS&quot; xmlns:wcm=&quot;http://schemas.microsoft.com/WMIConfig/2002/State&quot;&gt;
               &lt;OOBE&gt;
                    &lt;HideWirelessSetupInOOBE&gt;true&lt;/HideWirelessSetupInOOBE&gt;
                    &lt;NetworkLocation&gt;Work&lt;/NetworkLocation&gt;
                    &lt;SkipMachineOOBE&gt;true&lt;/SkipMachineOOBE&gt;
                    &lt;SkipUserOOBE&gt;true&lt;/SkipUserOOBE&gt;
               &lt;/OOBE&gt;
          &lt;/component&gt;
     &lt;/settings&gt;
&lt;/unattend&gt;
</code></pre>
<h3 id="annex-2-autopilotconfigurationfilejson">Annex 2: AutopilotConfigurationFile.json</h3>
<p>This is an example AutopilotConfigurationFile.json only. This file will be agency specific and should be generated from the Intune tenant. Ensure that the <code>TenantId</code> and <code>ZtdCorrelationID</code> are correct before using.</p>
<pre><code class="language-json">{
  &quot;CloudAssignedDomainJoinMethod&quot;: 0,
  &quot;CloudAssignedDeviceName&quot;: &quot;TEST%RAND: 2%&quot;,
  &quot;CloudAssignedAutopilotUpdateTimeout&quot;: 1800000,
  &quot;CloudAssignedForcedEnrollment&quot;: 1,
  &quot;Version&quot;: 2049,
  &quot;CloudAssignedTenantId&quot;: &quot;xxxxxxxx-xxx-xxxx-xxxx-xxxxxxxxxxxx&quot;,
  &quot;CloudAssignedAutopilotUpdateDisabled&quot;: 1,
  &quot;ZtdCorrelationId&quot;: &quot;xxxxxxxx-xxx-xxxx-xxxx-xxxxxxxxxxxx&quot;,
  &quot;Comment_File&quot;: &quot;Profile Autopilot&quot;,
  &quot;CloudAssignedAadServerData&quot;: &quot;{\&quot;ZeroTouchConfig\&quot;:{\&quot;CloudAssignedTenantUpn\&quot;:\&quot;\&quot;,\&quot;ForcedEnrollment\&quot;:1,\&quot;CloudAssignedTenantDomain\&quot;:\&quot;testagency.gov.au\&quot;}}&quot;,
  &quot;CloudAssignedOobeConfig&quot;: 1310,
  &quot;CloudAssignedTenantDomain&quot;: &quot;testagency.gov.au&quot;,
  &quot;CloudAssignedLanguage&quot;: &quot;os-default&quot;
}
</code></pre>
    
    
  
  
  



  
                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
          </a>
        
      </main>
      
          <footer class="md-footer">
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid"> 
        <div class="footer-container">
          <div class="footer-logo">
            <a href="https://www.oobe.com.au" title="oobe a Fujitsu company" class="md-footer__button md-logo" aria-label="oobe a Fujitsu company" data-md-component="logo">
              <img src="../../img/oobe-a-Fujitsu-company-Secondary-Logo-White-RGB.svg" alt="powered by oobe">                       
            </a>
          </div>
          <div class="footer-inner-border">
              <a href="https://www.oobe.com.au/about/privacy" title="https://www.oobe.com.au/about/privacy" class="md-footer__button link" aria-label="https://www.oobe.com.au/about/privacy" data-md-component="pp">
                Privacy policy
              </a>
              <a href="https://www.oobe.com.au" title="https://www.oobe.com.au" class="md-footer__button link" aria-label="https://www.oobe.com.au" data-md-component="oobe">
                oobe.com.au
              </a>
              <a href="https://www.oobe.com.au/about/contact" title="https://www.oobe.com.au/about/contact" class="md-footer__button link" aria-label="https://www.oobe.com.au/about/contact" data-md-component="contact">
                Contact Us
              </a>
          </div>
        </div>
      </div>
    </div>
  </footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.path", "navigation.top", "navigation.tracking", "navigation.sections", "navigation.indexes", "navigation.prune", "toc.follow", "toc.integrate"], "search": "../../js/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../js/bundle.b4d07000.min.js"></script>
      
        <script src="../../js/jquery-3.7.0.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
       
    
  </body>
</html>